import{d as o,o as p,c,a as n,e as t,F as r,h as e,g as s}from"./app.4ca8afde.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const l={},u=e(`<h1 id="security-appscan-standard\u5E38\u89C1\u6F0F\u6D1E" tabindex="-1"><a class="header-anchor" href="#security-appscan-standard\u5E38\u89C1\u6F0F\u6D1E" aria-hidden="true">#</a> Security AppScan Standard\u5E38\u89C1\u6F0F\u6D1E</h1><h2 id="\u5DF2\u542F\u7528\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u5DF2\u542F\u7528\u76EE\u5F55" aria-hidden="true">#</a> \u5DF2\u542F\u7528\u76EE\u5F55</h2><p>\u9700\u8981\u5173\u95ED\u76EE\u5F55\u6D4F\u89C8\u7D22\u5F15</p><p><strong>Apache</strong>\uFF0C \u8FDB\u5165apache\u7684\u914D\u7F6E\u6587\u4EF6 httpd.conf \u4FEE\u6539</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>DocumentRoot <span class="token string">&quot;E:/www&quot;</span>
<span class="token operator">&lt;</span>Directory <span class="token string">&quot;E:/www&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">...</span>
    #Options Indexes FollowSymLinks Includes ExecCGI
    Options FollowSymLinks Includes ExecCGI #\u53BB\u6389Indexes
  <span class="token operator">...</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Directory<span class="token operator">&gt;</span>
</code></pre></div><p><strong>Nginx</strong>\uFF0C \u7F16\u8F91nginx\u914D\u7F6E\u6587\u4EF6 nginx.conf\uFF0C\u4FEE\u6539</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>autoindex off<span class="token punctuation">;</span>  #\u5F00\u542Fnginx\u76EE\u5F55\u6D4F\u89C8\u529F\u80FD<span class="token punctuation">,</span>on\u4E3A\u5F00\u542F<span class="token punctuation">,</span>off\u4E3A\u5173\u95ED
</code></pre></div><p>\u4EE5\u4E0A\u90FD\u9700\u8981\u91CD\u8F7D\u914D\u7F6E\u6587\u4EF6\uFF0C\u624D\u751F\u6548</p><h2 id="\u52A0\u5BC6\u4F1A\u8BDD-ssl-cookie-\u4E2D\u7F3A\u5C11-secure-\u5C5E\u6027-php" tabindex="-1"><a class="header-anchor" href="#\u52A0\u5BC6\u4F1A\u8BDD-ssl-cookie-\u4E2D\u7F3A\u5C11-secure-\u5C5E\u6027-php" aria-hidden="true">#</a> \u52A0\u5BC6\u4F1A\u8BDD\uFF08SSL\uFF09Cookie \u4E2D\u7F3A\u5C11 Secure \u5C5E\u6027\uFF08PHP\uFF09</h2><p>\u4F7F\u7528https\u8BBF\u95EE\u65F6\uFF0C \u9700\u8981\u7ED9cookie\u52A0\u4E0ASecure\u548CHttpOnly\u5C5E\u6027\uFF0C \u4F46\u9700\u8981\u6CE8\u610F\uFF1A</p><blockquote><p>\u8BBE\u7F6EHttpOnly=true\u7684cookie\u4E0D\u80FD\u88ABjs\u83B7\u53D6\u5230\uFF0C\u65E0\u6CD5\u7528document.cookie\u6253\u51FAcookie\u7684\u5185\u5BB9\u3002</p></blockquote><h4 id="_1-\u8BBE\u7F6Esecure" tabindex="-1"><a class="header-anchor" href="#_1-\u8BBE\u7F6Esecure" aria-hidden="true">#</a> 1. \u8BBE\u7F6Esecure</h4><p>\u53EF\u4EE5\u770B\u5230,\u53EA\u8981\u5728<strong>setcookie</strong>\u7B2C\u516D\u4E2A\u53C2\u6570\u8BBE\u7F6E\u4E3Atrue,\u5C31\u53EF\u4EE5\u4E86</p><h4 id="_2-\u8BBE\u7F6Ehttponly" tabindex="-1"><a class="header-anchor" href="#_2-\u8BBE\u7F6Ehttponly" aria-hidden="true">#</a> 2. \u8BBE\u7F6Ehttponly</h4><p>\u57285.1\u548C\u4E4B\u524D\u7684\u7248\u672C\u5728header\u8BBE\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">?</span>php
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Set-Cookie: hidden=value; httpOnly&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><p>\u57285.2\u548C\u66F4\u9AD8\u7684\u7248\u672C\uFF0CCookie \u53C2\u6570\u53EF\u4EE5\u5728 php.ini\u6587\u4EF6\u4E2D\u5B9A\u4E49\uFF0C\u5982\u679C\u9700\u8981\u8BBE\u7F6E\u6709\u51E0\u4E2A\u9009\u62E9</p><p><strong>1. \u4FEE\u6539php\u5168\u5C40\u914D\u7F6E</strong></p><div class="language-javascript ext-js"><pre class="language-javascript"><code>#<span class="token number">1</span><span class="token punctuation">)</span> \u76F4\u63A5\u4FEE\u6539php<span class="token punctuation">.</span>ini\u6587\u4EF6
session<span class="token punctuation">.</span>cookie_httponly<span class="token operator">=</span><span class="token boolean">true</span>
#<span class="token number">2</span><span class="token punctuation">)</span> \u6B64\u914D\u7F6E\u53EF\u4EE5\u5728php\u4EE3\u7801\u4E2D\u4F7F\u7528<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">ini_set</span><span class="token template-punctuation string">\`</span></span>\u51FD\u6570\u8BBE\u7F6E
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">&quot;session.cookie_httponly&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
#<span class="token number">3</span><span class="token punctuation">)</span>\uFF0C\u5728\u8C03\u7528 <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\u4E4B\u524D\u8C03\u7528 <span class="token function">session_set_cookie_params</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\u51FD\u6570\u8BBE\u7F6E
<span class="token operator">&lt;</span><span class="token operator">?</span>php
<span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">startSession</span><span class="token punctuation">(</span>$time <span class="token operator">=</span> <span class="token number">3600</span><span class="token punctuation">,</span> $ses <span class="token operator">=</span> <span class="token string">&#39;MYSES&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">session_set_cookie_params</span><span class="token punctuation">(</span>$time<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">session_name</span><span class="token punctuation">(</span>$ses<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span>$_COOKIE<span class="token punctuation">[</span>$ses<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      #\u7B2C\u4E94\u4E2A\u53C2\u6570 \u8BBE\u7F6E\u4E3A<span class="token boolean">true</span>
      <span class="token function">setcookie</span><span class="token punctuation">(</span>$ses<span class="token punctuation">,</span> $_COOKIE<span class="token punctuation">[</span>$ses<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> $time<span class="token punctuation">,</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">?</span><span class="token operator">&gt;</span> 
</code></pre></div>`,19),d={href:"https://php.net/manual/zh/function.session-set-cookie-params.php",target:"_blank",rel:"noopener noreferrer"},h=s("session_set_cookie_params()"),k=s("\u51FD\u6570"),g={href:"https://php.net/manual/zh/function.session-start.php",target:"_blank",rel:"noopener noreferrer"},_=s("session_start()"),f=s(" \u51FD\u6570"),m=n("p",null,[n("strong",null,"2. \u5728\u8BBE\u7F6Ecookie\u65F6\u76F4\u63A5\u6307\u5B9Ahttponly")],-1),x=n("p",null,[s("\u524D\u9762\u4ECB\u7ECD\u5728setcookie\u51FD\u6570\u7B2C7\u4E2A\u53C2\u6570"),n("strong",null,"httponly"),s("\u8BBE\u7F6E\u4E3Atrue\u5373\u53EF.")],-1),v=n("blockquote",null,[n("p",null,"\u6CE8\u610F\u4E8B\u9879"),n("p",null,"setcookie\u7684httponly\u53C2\u6570 \u57285.2.0\u7248\u672C\u5F00\u59CB\u624D\u6709")],-1),q=s("\u53C2\u8003\uFF1A"),y={href:"https://www.jianshu.com/p/87a72c26db2a",target:"_blank",rel:"noopener noreferrer"},b=s("https://www.jianshu.com/p/87a72c26db2a"),w=e(`<h2 id="\u4E0D\u5B89\u5168\u7684http\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u4E0D\u5B89\u5168\u7684http\u65B9\u6CD5" aria-hidden="true">#</a> \u4E0D\u5B89\u5168\u7684HTTP\u65B9\u6CD5</h2><p>\u53EA\u5141\u8BB8post\uFF0Cget\u7684http\u65B9\u6CD5</p><p><strong>Apache</strong>\u5728httpd.conf\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>Location <span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>
   AllowMethods <span class="token constant">GET</span> <span class="token constant">POST</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>Location<span class="token operator">&gt;</span>
</code></pre></div>`,4),E=s("\u53C2\u8003\uFF1A"),S={href:"https://httpd.apache.org/docs/2.4/mod/mod_allowmethods.html",target:"_blank",rel:"noopener noreferrer"},j=s("https://httpd.apache.org/docs/2.4/mod/mod_allowmethods.html"),A=e(`<p><strong>Nginx</strong>\u5728nginx.conf\u4E2D\u8FDB\u884C\u5982\u4E0B\u8BBE\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>$request_method <span class="token operator">!</span><span class="token operator">~</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token constant">GET</span><span class="token operator">|</span><span class="token constant">HEAD</span><span class="token operator">|</span><span class="token constant">POST</span><span class="token punctuation">)</span>$ <span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token number">403</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="\u670D\u52A1\u5668\u7AEFbanner\u6CC4\u6F0F" tabindex="-1"><a class="header-anchor" href="#\u670D\u52A1\u5668\u7AEFbanner\u6CC4\u6F0F" aria-hidden="true">#</a> \u670D\u52A1\u5668\u7AEFBanner\u6CC4\u6F0F</h2>`,3),T=s("\u9690\u85CFserver\u4FE1\u606F\u548C\u7248\u672C\u4FE1\u606F\uFF0C nginx\u914D\u7F6E\u53EF\u4EE5\u53C2\u8003\u8FD9\u7BC7\u6587\u7AE0 "),C={href:"https://lzwdot.com/blog/archives/22789",target:"_blank",rel:"noopener noreferrer"},O=s("https://lzwdot.com/blog/archives/22789"),R=e(`<p>Apache\u914D\u7F6E\u9690\u85CF\u7248\u672C\u53F7\uFF0C \u5728httpd.conf\u6DFB\u52A0\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code># \u627E\u5230ServerTokens\u548CServerSignature\u5E76\u4FEE\u6539\u4E3A\uFF1A
ServerTokens  Prod
ServerSignature  off
# \u5982\u679C\u6CA1\u6709\u627E\u5230ServerTokens\u548CServerSignature\u53EF\u4EE5\u5728\u6700\u540E\u4E00\u884C\u6DFB\u52A0
</code></pre></div><p>php\u9690\u85CF\u7248\u672C\u53F7\uFF0C\u5728php.ini\u4E2D\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>expose_php<span class="token operator">=</span>Off
</code></pre></div><h2 id="\u4F7F\u7528\u4F2A\u9020\u7684-url-\u8BBE\u7F6E-referer-\u5934" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u4F2A\u9020\u7684-url-\u8BBE\u7F6E-referer-\u5934" aria-hidden="true">#</a> \u4F7F\u7528\u4F2A\u9020\u7684 URL \u8BBE\u7F6E Referer \u5934</h2><p>\u5C06\u53EF\u80FD\u5E72\u6270 CSRF \u653B\u51FB\u7684 HTTP \u5934\u9664\u53BB\uFF0C\u5E76\u4F7F\u7528\u4F2A\u9020\u7684 URL \u8BBE\u7F6E Referer \u5934\u8FDB\u884C\u8BBF\u95EE\uFF0C\u6240\u4EE5\u9700\u8981\u9A8C\u8BC1 Referer \u5934</p><blockquote><p>\u8FD9\u79CD\u65B9\u5F0F\u53EA\u80FD\u8D77\u5230\u7B80\u5355\u53D1\u9632\u62A4\uFF0C Referer \u5934\u662F\u53EF\u4EE5\u4F2A\u9020\u7684\uFF0C\u66F4\u63A8\u8350\u4F7F\u7528csrf-token\u8868\u5355\u65B9\u5F0F\u8FDB\u884C\u9632\u62A4</p></blockquote><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isset</span><span class="token punctuation">(</span>$_SERVER<span class="token punctuation">[</span><span class="token string">&#39;HTTP_REFERER&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">strpos</span><span class="token punctuation">(</span>$_SERVER<span class="token punctuation">[</span><span class="token string">&#39;HTTP_REFERER&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> $_SERVER<span class="token punctuation">[</span><span class="token string">&#39;SERVER_NAME&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token function">exit</span><span class="token punctuation">(</span><span class="token string">&#39;\u4E0D\u5141\u8BB8\u7684\u8BF7\u6C42&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="\u5173\u95EDapache\u4E0Bicons\u76EE\u5F55\u5217\u8868" tabindex="-1"><a class="header-anchor" href="#\u5173\u95EDapache\u4E0Bicons\u76EE\u5F55\u5217\u8868" aria-hidden="true">#</a> \u5173\u95EDapache\u4E0Bicons\u76EE\u5F55\u5217\u8868</h2>`,9),P=s("\u4F7F\u7528apache\u670D\u52A1\u5668\uFF0C\u5F53\u6211\u8BBF\u95EE"),B={href:"http://localhost/icons/%E6%97%B6%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%98%BE%E7%A4%BA%E8%BF%99%E4%B8%AA%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%89%80%E4%BB%A5%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8",target:"_blank",rel:"noopener noreferrer"},I=s("http://localhost/icons/\u65F6\u4F1A\u81EA\u52A8\u663E\u793A\u8FD9\u4E2A\u76EE\u5F55\u4E0B\u7684\u6240\u4EE5\u6587\u4EF6\u5217\u8868"),N=s("\uFF0C\u51FA\u4E8E\u5B89\u5168\u8003\u8651\u9700\u8981\u5173\u95ED\u76EE\u5F55\u5217\u8868"),$=e(`<p>\u76EE\u5F55<code>apache/conf/extra/</code>\u4E0B\u7684\u6587\u4EF6<code>httpd-autoindex.conf</code>\u4FEE\u6539</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>Alias <span class="token operator">/</span>icons<span class="token operator">/</span> <span class="token string">&quot;/xampp/apache/icons/&quot;</span>
<span class="token operator">&lt;</span>Directory <span class="token string">&quot;/xampp/apache/icons&quot;</span><span class="token operator">&gt;</span>
    #Options Indexes MultiViews
    Options MultiViews #\u53BB\u6389Indexes
    AllowOverride None
    Require all granted
<span class="token operator">&lt;</span><span class="token operator">/</span>Directory<span class="token operator">&gt;</span>
</code></pre></div><h2 id="flash-\u53C2\u6570-allowscriptaccess-\u5DF2\u8BBE\u7F6E\u4E3A-always" tabindex="-1"><a class="header-anchor" href="#flash-\u53C2\u6570-allowscriptaccess-\u5DF2\u8BBE\u7F6E\u4E3A-always" aria-hidden="true">#</a> Flash \u53C2\u6570 AllowScriptAccess \u5DF2\u8BBE\u7F6E\u4E3A always</h2><p>\u5F53\u663E\u793A\u6709\u8FD9\u4E2A\u6F0F\u6D1E\u65F6\uFF0C\u4E00\u822C\u662Fjs\u6587\u4EF6\u5305\u4E86 <code>&lt;param name=&quot;allowscriptaccess&quot; value=&quot;always&quot; /&gt;</code> \u53C2\u6570\uFF0C\u5982<code>ueditor hird-partywebuploaderwebuploader.js</code>\u6587\u4EF6\u7684\u5927\u69826472\u884C\u3002\u4E00\u822C\u5EFA\u8BAE\u4FEE\u6539\u4E3A <code>&lt;param name=&quot;allowscriptaccess&quot; value=&quot;sameDomain&quot; /&gt;</code></p><h2 id="appscan\u68C0\u6D4B\u5230\u9690\u85CF\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#appscan\u68C0\u6D4B\u5230\u9690\u85CF\u76EE\u5F55" aria-hidden="true">#</a> AppScan\u68C0\u6D4B\u5230\u9690\u85CF\u76EE\u5F55</h2><p>\u76F4\u63A5\u8BBF\u95EE\u5728\u7AD9\u70B9\u6839\u76EE\u5F55\u7684css\uFF0Cimages\u65F6\uFF0C\u7CFB\u7EDF\u53EF\u80FD\u4F1A\u8FD4\u56DE <code>403 forbidden</code> \uFF0C\u8FD9\u65F6\u5B89\u5168\u8F6F\u4EF6\u4F1A\u89C9\u5F97\u662F\u4E00\u4E2A\u4E0D\u5B89\u5168\u7684\u65B9\u5F0F\u914D\u7F6E\u3002\u53EF\u80FD\u7684\u8BDD\uFF0C\u8BF7\u53D1\u51FA\u6539\u7528\u201C404 \uFF0D \u627E\u4E0D\u5230\u201D\u54CD\u5E94\u72B6\u6001\u4EE3\u7801\uFF0C\u800C\u4E0D\u662F\u201C403 \uFF0D \u7981\u6B62\u201D\u3002\u8FD9\u9879\u66F4\u6539\u4F1A\u5C06\u7AD9\u70B9\u7684\u76EE\u5F55\u6A21\u7CCA\u5316\uFF0C\u53EF\u4EE5\u9632\u6B62\u6CC4\u6F0F\u7AD9\u70B9\u7ED3\u6784\u3002\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u6709\u4E24\u79CD\u65B9\u5F0F\uFF0C<strong>\u65B9\u5F0F\u4E00\u662F\u901A\u8FC7\u81EA\u5B9A\u4E49 403 \u9519\u8BEF\u9875\u9762\u8FD4\u56DE 404\uFF0C\u5373 403 \u7684\u9519\u8BEF\u9875\u9762\u627E\u4E0D\u5230</strong>\uFF1A</p><p><strong>Nginx</strong> \u5728 sever \u6A21\u5757\u4E2D\u914D\u7F6E</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>location <span class="token operator">/</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
        error_page <span class="token number">403</span> <span class="token operator">/</span><span class="token number">404</span><span class="token punctuation">;</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>Apache</strong> \u5728 httpd.conf \u6587\u4EF6\u4E2D\u914D\u7F6E <code>ErrorDocument 403 /404</code></p><p><strong>\u65B9\u6CD5\u4E8C</strong>\u662F\u5728css\uFF0Cimage\u7B49\u76EE\u5F55\u4E2D\u65B0\u5EFA\u4E00\u4E2A\u7A7A\u767D\u7684 <code>index.html</code> \u6587\u4EF6\u5373\u53EF</p><h2 id="\u7F3A\u5C11\u8DE8\u5E27\u811A\u672C\u7F16\u5236\u9632\u5FA1" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u5C11\u8DE8\u5E27\u811A\u672C\u7F16\u5236\u9632\u5FA1" aria-hidden="true">#</a> \u7F3A\u5C11\u8DE8\u5E27\u811A\u672C\u7F16\u5236\u9632\u5FA1</h2><p>\u4E00\u822C\u4F7F\u7528 X-Frame-Options \u9632\u6B62\uFF08\u9650\u5236\uFF09\u5728 iFrame \u4E2D\u5D4C\u5165\u9875\u9762\uFF0C\u914D\u7F6E\u65B9\u6CD5\u6709\uFF1A</p><p><strong>PHP</strong> \u4EE3\u7801 <code>header(&#39;X-Frame-Options:Deny&#39;);</code> \u6216\u8005 <code>header(&#39;X-Frame-Options:SAMEORIGIN);//\u89C9\u5F97\u7528\u8FD9\u4E2A\u6BD4\u8F83\u597D</code></p><p><strong>Nginx</strong> \u914D\u7F6E <code>add_header X-Frame-Options SAMEORIGIN</code></p><p><strong>Apache</strong> \u914D\u7F6E <code>Header always append X-Frame-Options SAMEORIGIN</code></p><h2 id="\u53D1\u73B0\u53EF\u9AD8\u901F\u7F13\u5B58\u7684-ssl-\u9875\u9762" tabindex="-1"><a class="header-anchor" href="#\u53D1\u73B0\u53EF\u9AD8\u901F\u7F13\u5B58\u7684-ssl-\u9875\u9762" aria-hidden="true">#</a> \u53D1\u73B0\u53EF\u9AD8\u901F\u7F13\u5B58\u7684 SSL \u9875\u9762</h2><p>\u4E00\u822C\u5EFA\u8BAE\u9875\u9762\u6807\u9898\u4E2D\u7684\u201CCache-Control: no-store\u201D\u548C\u201CPragma: no-cache\u201D\u6216\u201CCache-Control: no-cache\u201D\u54CD\u5E94\u4F2A\u6307\u4EE4\u6765\u5B9E\u73B0\u6B64\u64CD\u4F5C\uFF0C\u9875\u9762\u6DFB\u52A0\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code> <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;Cache-Control&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;no-cache, no-store&quot;</span><span class="token operator">&gt;</span>
 <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;Pragma&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;no-cache&quot;</span><span class="token operator">&gt;</span>     
</code></pre></div><p>\u544A\u77E5\u6D4F\u89C8\u5668\u4E0D\u7F13\u5B58\u9875\u9762\uFF1B\u5982\u679C\u9700\u8981\u8BBE\u7F6E\u54CD\u5E94\u8FC7\u671F\u65E5\u671F\u59CB\u7EC8\u4E3A\u8FC7\u671F\uFF0C\u5219\u6DFB\u52A0 <code>&lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot;&gt;</code> \u6D4F\u89C8\u5668\u4F1A\u5728\u8FD9\u6BB5\u65F6\u95F4\u4E4B\u540E\u66F4\u65B0\u7F13\u5B58\u91CC\u7684\u9875\u9762\u3002\u5982\u679C\u4F7F\u7528Laravel\u6846\u67B6\uFF0C\u5219\u53EF\u4EE5\u4E2D\u95F4\u4EF6\u6DFB\u52A0\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">return</span> <span class="token function">$next</span><span class="token punctuation">(</span>$request<span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&#39;Cache-Control&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;no-cache, no-store&#39;</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&#39;Pragma&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;no-cache&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="\u7F3A\u5C11-http-strict-transport-security-\u5934" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u5C11-http-strict-transport-security-\u5934" aria-hidden="true">#</a> \u7F3A\u5C11 HTTP Strict-Transport-Security \u5934</h2><p><strong>Nginx</strong> \u914D\u7F6E <code>add_header Strict-Transport-Security &quot;max-age=63072000; includeSubdomains&quot; always;</code></p><p><strong>Apache</strong> \u914D\u7F6E <code>Header always set Strict-Transport-Security &quot;max-age=63072000; includeSubdomains; preload&quot;</code></p><h2 id="\u7F3A\u5C11-content-security-policy-\u5934" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u5C11-content-security-policy-\u5934" aria-hidden="true">#</a> \u7F3A\u5C11\u201CContent-Security-Policy\u201D\u5934</h2><p><strong>\u9875\u9762</strong> \u6DFB\u52A0 <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt;</code></p><p><strong>Nginx</strong> \u914D\u7F6E <code>add_header Content-Security-Policy &quot;upgrade-insecure-requests;connect-src *&quot;;</code></p><p><strong>Apache</strong> \u914D\u7F6E <code>Header set Content-Security-Policy &quot;default-src &#39;self&#39;;&quot;</code></p><p>\u53C2\u8003\uFF1A</p>`,28),H={href:"https://www.uedbox.com/post/56310/",target:"_blank",rel:"noopener noreferrer"},X=s("https://www.uedbox.com/post/56310/"),F={href:"https://www.cnblogs.com/hustskyking/p/upgrade-insecure-requests.html",target:"_blank",rel:"noopener noreferrer"},L=s("https://www.cnblogs.com/hustskyking/p/upgrade-insecure-requests.html"),D=e('<h2 id="\u7F3A\u5C11-x-content-type-options-\u5934" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u5C11-x-content-type-options-\u5934" aria-hidden="true">#</a> \u7F3A\u5C11\u201CX-Content-Type-Options\u201D\u5934</h2><p><strong>Nginx</strong> \u914D\u7F6E <code>add_header X-Content-Type-Options nosniff;</code></p><p><strong>Apache</strong> \u914D\u7F6E <code>Header always set X-Content-Type-Options nosniff</code></p><h2 id="\u7F3A\u5C11-x-xss-protection-\u5934" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u5C11-x-xss-protection-\u5934" aria-hidden="true">#</a> \u7F3A\u5C11\u201CX-XSS-Protection\u201D\u5934</h2><p><strong>\u9875\u9762</strong>\u8BBE\u7F6E <code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;X-XSS-Protection:1;mode=block&quot; /&gt;</code></p><p><strong>Nginx</strong> \u914D\u7F6E <code>add_header X-XSS-Protection &quot;1; mode=block&quot;;</code></p><p><strong>Apache</strong> <code>\u914D\u7F6E Header always append X-XSS-Protection &quot;1;mode=block&quot;</code></p>',7),V=s("\u5173\u4E8E\u6DFB\u52A0HTTP\u5934\u90E8\u8BBE\uFF0CNginx\u53EF\u4EE5\u53C2\u8003 "),M={href:"https://www.jdon.com/idea/htmlcss/7-http-headers-to-secure-your-app.html",target:"_blank",rel:"noopener noreferrer"},G=s("https://www.jdon.com/idea/htmlcss/7-http-headers-to-secure-your-app.html"),z=s(" \uFF0CApache\u53EF\u4EE5\u53C2\u8003 "),K={href:"http://itindex.net/detail/52305-apache-header-%E5%AE%89%E5%85%A8",target:"_blank",rel:"noopener noreferrer"},U=s("http://itindex.net/detail/52305-apache-header-%E5%AE%89%E5%85%A8");function Y(J,Q){const a=o("ExternalLinkIcon");return p(),c(r,null,[u,n("p",null,[n("a",d,[h,t(a)]),k,n("a",g,[_,t(a)]),f]),m,x,v,n("p",null,[q,n("a",y,[b,t(a)])]),w,n("p",null,[E,n("a",S,[j,t(a)])]),A,n("p",null,[T,n("a",C,[O,t(a)])]),R,n("p",null,[P,n("a",B,[I,t(a)]),N]),$,n("p",null,[n("a",H,[X,t(a)])]),n("p",null,[n("a",F,[L,t(a)])]),D,n("blockquote",null,[n("p",null,[V,n("a",M,[G,t(a)]),z,n("a",K,[U,t(a)])])])],64)}var nn=i(l,[["render",Y]]);export{nn as default};
