import{h as n}from"./app.4ca8afde.js";import{_ as s}from"./plugin-vue_export-helper.21dcd24c.js";var a="/blog/assets/react-20220127170423.bdeca7b2.png";const t={},p=n(`<h1 id="react-\u7684\u5408\u6210\u4E8B\u4EF6\u673A\u5236" tabindex="-1"><a class="header-anchor" href="#react-\u7684\u5408\u6210\u4E8B\u4EF6\u673A\u5236" aria-hidden="true">#</a> React \u7684\u5408\u6210\u4E8B\u4EF6\u673A\u5236</h1><p>\u5408\u6210\u4E8B\u4EF6</p><ul><li>\u6240\u6709\u4E8B\u4EF6\u6302\u8F7D\u5230 document\uFF08\u6216 root \u5143\u7D20\uFF09\u4E0A</li><li>event \u4E0D\u662F\u539F\u751F\u7684\uFF0C\u662F SyntheticEvent \u5408\u6210\u4E8B\u4EF6\u5BF9\u8C61</li><li>\u548C Vue \u4E8B\u4EF6\u4E0D\u540C\uFF0C\u548C DOM \u4E8B\u4EF6\u4E5F\u4E0D\u540C</li></ul><blockquote><p>event \u662F SyntheticBaseEvent\uFF0C\u6A21\u62DF\u51FA\u6765 DOM \u4E8B\u4EF6\u6240\u6709\u80FD\u529B</p></blockquote><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token comment">// \u83B7\u53D6 event</span>
<span class="token function-variable function">clickHandler3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u963B\u6B62\u9ED8\u8BA4\u884C\u4E3A</span>
  e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u963B\u6B62\u5192\u6CE1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;target&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token comment">// \u6307\u5411\u5F53\u524D\u5143\u7D20\uFF0C\u5373\u5F53\u524D\u5143\u7D20\u89E6\u53D1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;current target&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token comment">// \u6307\u5411\u5F53\u524D\u5143\u7D20\uFF0C\u5047\u8C61\uFF01</span>

  <span class="token comment">// \u6CE8\u610F\uFF0Cevent \u5176\u5B9E\u5C31\u662F React \u5C01\u88C5\u7684\uFF0C\u53EF\u4EE5\u770B __proto__.constructor \u662F SyntheticBaseEvent \u7EC4\u5408\u4E8B\u4EF6</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;event&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span> <span class="token comment">// \u4E0D\u662F\u539F\u751F\u7684 Event\uFF0C\u539F\u751F\u7684\u662F MouseEvent</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;event.__proto__.constructor&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>

  <span class="token comment">// \u539F\u751F event \u5982\u4E0B\uFF0C\u5176 __proto__.constructor \u662F MouseEvent</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nativeEvent&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nativeEvent&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token comment">// \u6307\u5411\u5F53\u524D\u5143\u7D20\uFF0C\u5373\u5F53\u524D\u5143\u7D20\u89E6\u53D1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;nativeEvent&#39;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>nativeEvent<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span> <span class="token comment">// \u6307\u5411 root \u5143\u7D20</span>

  <span class="token comment">// 1\u3001event \u662F SyntheticBaseEvent\uFF0C\u6A21\u62DF\u51FA\u6765 DOM \u4E8B\u4EF6\u6240\u6709\u80FD\u529B</span>
  <span class="token comment">// 2\u3001e.nativeEvent \u662F\u539F\u751F\u4E8B\u4EF6\u5BF9\u8C61</span>
  <span class="token comment">// 3\u3001\u6240\u6709\u7684\u4E8B\u4EF6\uFF0C\u6302\u8F7D\u5230 root \u5143\u7D20</span>
  <span class="token comment">// 4\u3001\u548C DOM \u4E8B\u4EF6\u4E0D\u4E00\u6837\uFF0C\u548C Vue \u4E8B\u4EF6\u4E5F\u4E0D\u4E00\u6837</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u6D41\u7A0B\u56FE <img src="`+a+'" alt="react"></p><p>\u4E3A\u4F55\u8981\u5408\u6210\u4E8B\u4EF6\u673A\u5236\uFF1F</p><ul><li>\u66F4\u597D\u7684\u517C\u5BB9\u6027\u548C\u8DE8\u5E73\u53F0</li><li>\u6302\u8F7D\u5230 document\uFF08\u6216 root \u5143\u7D20\uFF09\uFF0C\u51CF\u5C11\u5185\u5B58\u6D88\u8017\uFF0C\u907F\u514D\u9891\u7E41\u89E3\u7ED1</li><li>\u65B9\u4FBF\u4E8B\u4EF6\u7684\u7EDF\u4E00\u7BA1\u7406\uFF08\u5982\u4E8B\u7269\u673A\u5236\uFF09</li></ul><p>React 17 \u4E8B\u4EF6\u7ED1\u5B9A\u5230 root \u7EC4\u4EF6</p><ul><li>React 16 \u7ED1\u5B9A document</li><li>React 17 \u4E8B\u4EF6\u7ED1\u5B9A\u5230 root \u7EC4\u4EF6</li><li>\u8FD9\u6837\u6539\u8FDB\u6709\u5229\u4E8E\u591A\u4E2A React \u7248\u672C\u5E76\u5B58\uFF0C\u4F8B\u5982\u5FAE\u524D\u7AEF</li></ul>',10);function o(e,c){return p}var i=s(t,[["render",o]]);export{i as default};
