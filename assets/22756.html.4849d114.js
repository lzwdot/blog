import{d as p,o,c as t,a as n,e,F as c,g as s,h as r}from"./app.4ca8afde.js";import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";const i={},k=n("h1",{id:"window-nginx-php\u73AF\u5883\u914D\u7F6E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#window-nginx-php\u73AF\u5883\u914D\u7F6E","aria-hidden":"true"},"#"),s(" window+nginx+php\u73AF\u5883\u914D\u7F6E")],-1),u=n("h4",{id:"\u51C6\u5907\u5DE5\u4F5C",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51C6\u5907\u5DE5\u4F5C","aria-hidden":"true"},"#"),s(" \u51C6\u5907\u5DE5\u4F5C")],-1),d=n("p",null,[s("\u4E0B\u8F7D Nginx Windows\u7248\u5E76\u89E3\u538B"),n("br"),s(" \u4E0B\u8F7D PHP Windows\u7248 \u5E76\u89E3\u538B")],-1),h=s("\u4E0B\u8F7D"),g={href:"http://redmine.lighttpd.net/attachments/download/660/RunHiddenConsole.zip",target:"_blank",rel:"noopener noreferrer"},x=s("RunHiddenConsole.zip"),_=s("\xA0\u5E76\u89E3\u538B"),m=r(`<h4 id="nginx\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#nginx\u914D\u7F6E" aria-hidden="true">#</a> nginx\u914D\u7F6E</h4><p>\u4FEE\u6539nginx\u76EE\u5F55\u7684nginx.conf\u914D\u7F6E\u6587\u4EF6</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>#\u4FEE\u6539root\u76EE\u5F55\uFF0C\u6DFB\u52A0index<span class="token punctuation">.</span>php
location <span class="token operator">/</span> <span class="token punctuation">{</span>
    root   <span class="token constant">D</span><span class="token operator">:</span><span class="token operator">/</span>wnmp<span class="token operator">/</span>nginx<span class="token operator">-</span><span class="token number">1.12</span><span class="token number">.2</span><span class="token operator">/</span>html<span class="token punctuation">;</span>
    index  index<span class="token punctuation">.</span>html index<span class="token punctuation">.</span>htm index<span class="token punctuation">.</span>php<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
#\u53BB\u6389\u6CE8\u91CA\uFF0C\u4FEE\u6539root\u76EE\u5F55\uFF0C<span class="token operator">/</span>scripts\u6539\u6210$document_root
location <span class="token operator">~</span> <span class="token punctuation">.</span>php$ <span class="token punctuation">{</span>
    root           <span class="token constant">D</span><span class="token operator">:</span><span class="token operator">/</span>wnmp<span class="token operator">/</span>nginx<span class="token operator">-</span><span class="token number">1.12</span><span class="token number">.2</span><span class="token operator">/</span>html<span class="token punctuation">;</span>
    fastcgi_pass   <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9000</span><span class="token punctuation">;</span>
    fastcgi_index  index<span class="token punctuation">.</span>php<span class="token punctuation">;</span>
    fastcgi_param  <span class="token constant">SCRIPT_FILENAME</span>  $document_root$fastcgi_script_name<span class="token punctuation">;</span>
    include        fastcgi_params<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><p><em>\u6267\u884Cnginx.exe\u5373\u53EF\u542F\u52A8</em></p><h4 id="php\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#php\u914D\u7F6E" aria-hidden="true">#</a> php\u914D\u7F6E</h4><p>\u590D\u5236\u4E00\u4EFDphp.ini-development\u6539\u4E3Aphp.ini</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>#\u53BB\u6389\u6CE8\u91CA
extension_dir <span class="token operator">=</span> <span class="token string">&quot;./ext&quot;</span>
<span class="token operator">...</span>
#\u53BB\u6389\u6CE8\u91CA
cgi<span class="token punctuation">.</span>fix_pathinfo<span class="token operator">=</span><span class="token number">1</span> 
</code></pre></div><blockquote><p>cgi.fix_pathinfo\u5F00\u542Fphp\u7684cgi\u8BBE\u7F6E\uFF0C\u8FD9\u4E00\u6B65\u975E\u5E38\u91CD\u8981\uFF0C\u8BA9php\u80FD\u591F\u4E0Enginx\u7ED3\u5408</p></blockquote><p><em>\u547D\u4EE4\u884C\u6267\u884C\uFF1Aphp-cgi.exe -b 127.0.0.1:9000\uFF0C\u542F\u52A8php</em></p><h4 id="\u542F\u52A8\u548C\u505C\u6B62\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#\u542F\u52A8\u548C\u505C\u6B62\u811A\u672C" aria-hidden="true">#</a> \u542F\u52A8\u548C\u505C\u6B62\u811A\u672C</h4><p>\u624B\u52A8\u542F\u52A8\u5F88\u9EBB\u70E6\uFF0C\u6240\u4EE5\u4F7F\u7528\u811A\u672C\u6765\u65B9\u4FBF\u7BA1\u7406\u542F\u52A8\u548C\u505C\u6B62\uFF0C\u9700\u8981RunHiddenConsole\u914D\u7F6E\u4F7F\u7528</p><p>start_nginx.bat \u542F\u52A8\uFF08\u6CE8\u610F\u4FEE\u6539\u76EE\u5F55\uFF09\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>@echo off
<span class="token keyword">set</span> php_home<span class="token operator">=</span><span class="token constant">D</span><span class="token operator">:</span><span class="token operator">/</span>wnmp<span class="token operator">/</span>php<span class="token operator">-</span><span class="token number">7.1</span><span class="token number">.11</span><span class="token operator">/</span>
<span class="token keyword">set</span> nginx_home<span class="token operator">=</span><span class="token constant">D</span><span class="token operator">:</span><span class="token operator">/</span>wnmp<span class="token operator">/</span>nginx<span class="token operator">-</span><span class="token number">1.12</span><span class="token number">.2</span><span class="token operator">/</span>
echo Stopping nginx<span class="token operator">...</span>
taskkill <span class="token operator">/</span><span class="token constant">F</span> <span class="token operator">/</span><span class="token constant">IM</span> nginx<span class="token punctuation">.</span>exe <span class="token operator">&gt;</span> nul
echo Stopping <span class="token constant">PHP</span> FastCGI<span class="token operator">...</span>
taskkill <span class="token operator">/</span><span class="token constant">F</span> <span class="token operator">/</span><span class="token constant">IM</span> php<span class="token operator">-</span>cgi<span class="token punctuation">.</span>exe <span class="token operator">&gt;</span> nul
<span class="token constant">REM</span> Windows \u4E0B\u65E0\u6548
<span class="token constant">REM</span> <span class="token keyword">set</span> <span class="token constant">PHP_FCGI_CHILDREN</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token constant">REM</span> \u6BCF\u4E2A\u8FDB\u7A0B\u5904\u7406\u7684\u6700\u5927\u8BF7\u6C42\u6570\uFF0C\u6216\u8BBE\u7F6E\u4E3A Windows \u73AF\u5883\u53D8\u91CF
<span class="token keyword">set</span> <span class="token constant">PHP_FCGI_MAX_REQUESTS</span><span class="token operator">=</span><span class="token number">1000</span>
echo Starting <span class="token constant">PHP</span> FastCGI<span class="token operator">...</span>
RunHiddenConsole <span class="token operator">%</span>php_home<span class="token operator">%</span><span class="token operator">/</span>php<span class="token operator">-</span>cgi<span class="token punctuation">.</span>exe <span class="token operator">-</span>b <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9000</span> <span class="token operator">-</span>c <span class="token operator">%</span>php_home<span class="token operator">%</span><span class="token operator">/</span>php<span class="token punctuation">.</span>ini
echo Starting nginx<span class="token operator">...</span>
RunHiddenConsole <span class="token operator">%</span>nginx_home<span class="token operator">%</span><span class="token operator">/</span>nginx<span class="token punctuation">.</span>exe <span class="token operator">-</span>p <span class="token operator">%</span>nginx_home<span class="token operator">%</span>
pause 
</code></pre></div><p>stop_nginx.bat \u505C\u6B62\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>@echo off
echo Stopping nginx<span class="token operator">...</span>
taskkill <span class="token operator">/</span><span class="token constant">F</span> <span class="token operator">/</span><span class="token constant">IM</span> nginx<span class="token punctuation">.</span>exe <span class="token operator">&gt;</span> nul
echo Stopping <span class="token constant">PHP</span> FastCGI<span class="token operator">...</span>
taskkill <span class="token operator">/</span><span class="token constant">F</span> <span class="token operator">/</span><span class="token constant">IM</span> php<span class="token operator">-</span>cgi<span class="token punctuation">.</span>exe <span class="token operator">&gt;</span> nul
pause 
</code></pre></div><blockquote><p>\u6CE8\u610F\uFF1Astart_nginx.bat\uFF0Cstop_nginx.bat\u548CRunHiddenConsole.exe\u8981\u5728\u540C\u7EA7\u76EE\u5F55</p></blockquote><p>window+nginx+php\u73AF\u5883\u5C31\u914D\u7F6E\u597D\u4E86</p>`,17);function b(f,w){const a=p("ExternalLinkIcon");return o(),t(c,null,[k,u,d,n("p",null,[h,n("a",g,[x,e(a)]),_]),m],64)}var I=l(i,[["render",b]]);export{I as default};
