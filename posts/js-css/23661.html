<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.35">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="stylesheet" href="//unpkg.com/element-ui@2.15.5/lib/theme-chalk/index.css"><link rel="apple-touch-icon" sizes="180x180" href="/blog/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/blog/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/blog/favicon-16x16.png"><link rel="manifest" href="/blog/site.webmanifest"><link rel="mask-icon" href="/blog/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><script>var _hmt = _hmt || [];
            (function () {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?96d91412aff9543cd8e022f381d8bf1c";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();</script><title>从零开始配置vue.js的webpack开发环境 | Lzw's 笔记</title><meta name="description" content="记录和分享，每天进步一点点！">
    <link rel="modulepreload" href="/blog/assets/app.4ca8afde.js"><link rel="modulepreload" href="/blog/assets/23661.html.2e5c5c5f.js"><link rel="modulepreload" href="/blog/assets/23661.html.a5156668.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/blog/assets/style.1c838ac8.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blog/" class=""><!----><span class="site-name">Lzw&#39;s 笔记</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blog/pages/category" class="" aria-label="分类"><!--[--><!--]--> 分类 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/pages/about" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://lzwdot.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub主页"><!--[--><!--]--> GitHub主页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="切换夜间模式"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blog/pages/category" class="" aria-label="分类"><!--[--><!--]--> 分类 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blog/pages/about" class="" aria-label="关于"><!--[--><!--]--> 关于 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://lzwdot.github.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub主页"><!--[--><!--]--> GitHub主页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">JS/CSS <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/blog/posts/js-css/15344.html" class="sidebar-item" aria-label="解决ueditor插入第三方视频网站通用代码的问题"><!--[--><!--]--> 解决ueditor插入第三方视频网站通用代码的问题 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/15825.html" class="sidebar-item" aria-label="原生js操作cookie，有效期至晚上23点59分59秒"><!--[--><!--]--> 原生js操作cookie，有效期至晚上23点59分59秒 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/18405.html" class="sidebar-item" aria-label="css属性white-space、word-wrap和word-break"><!--[--><!--]--> css属性white-space、word-wrap和word-break <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22645.html" class="sidebar-item" aria-label="h5利用cropper.js实现图片裁剪"><!--[--><!--]--> h5利用cropper.js实现图片裁剪 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22709.html" class="sidebar-item" aria-label="使用微信公众号和百度地图获取位置"><!--[--><!--]--> 使用微信公众号和百度地图获取位置 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22762.html" class="sidebar-item" aria-label="js数组合并的方法探讨"><!--[--><!--]--> js数组合并的方法探讨 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22798.html" class="sidebar-item" aria-label="Javascript中apply、call、bind区别"><!--[--><!--]--> Javascript中apply、call、bind区别 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22830.html" class="sidebar-item" aria-label="H5的视频音频兼容格式"><!--[--><!--]--> H5的视频音频兼容格式 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22874.html" class="sidebar-item" aria-label="DOMContentLoaded与load的区别"><!--[--><!--]--> DOMContentLoaded与load的区别 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/22882.html" class="sidebar-item" aria-label="千分位转换的正则"><!--[--><!--]--> 千分位转换的正则 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23297.html" class="sidebar-item" aria-label="js中contains和indexOf的使用"><!--[--><!--]--> js中contains和indexOf的使用 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23306.html" class="sidebar-item" aria-label="js时间几天前，几小时前，几分钟前"><!--[--><!--]--> js时间几天前，几小时前，几分钟前 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23510.html" class="sidebar-item" aria-label="css设置高度等于其宽度"><!--[--><!--]--> css设置高度等于其宽度 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23520.html" class="sidebar-item" aria-label="js 执行字符串函数"><!--[--><!--]--> js 执行字符串函数 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23524.html" class="sidebar-item" aria-label="简单的js倒计时函数"><!--[--><!--]--> 简单的js倒计时函数 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23600.html" class="sidebar-item" aria-label="解决chrome不支持form.submit的问题"><!--[--><!--]--> 解决chrome不支持form.submit的问题 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23656.html" class="sidebar-item" aria-label="滑动错误提示：Unable to preventDefault inside passive event listener due to target being treated as passive"><!--[--><!--]--> 滑动错误提示：Unable to preventDefault inside passive event listener due to target being treated as passive <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/posts/js-css/23661.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="从零开始配置vue.js的webpack开发环境"><!--[--><!--]--> 从零开始配置vue.js的webpack开发环境 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blog/posts/js-css/23661.html#安装webpack" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装webpack"><!--[--><!--]--> 安装webpack <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/posts/js-css/23661.html#配置webpack" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置webpack"><!--[--><!--]--> 配置webpack <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/posts/js-css/23661.html#加入css处理配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="加入css处理配置"><!--[--><!--]--> 加入css处理配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/posts/js-css/23661.html#安装vue相关依赖" class="router-link-active router-link-exact-active sidebar-item" aria-label="安装vue相关依赖"><!--[--><!--]--> 安装vue相关依赖 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blog/posts/js-css/23661.html#用于生产环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="用于生产环境"><!--[--><!--]--> 用于生产环境 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/blog/posts/js-css/23690.html" class="sidebar-item" aria-label="使用Node.js的request库做代理"><!--[--><!--]--> 使用Node.js的request库做代理 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/23828.html" class="sidebar-item" aria-label="微信浏览器“前进后退”的底部banner挡住了H5的底部banner"><!--[--><!--]--> 微信浏览器“前进后退”的底部banner挡住了H5的底部banner <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24370.html" class="sidebar-item" aria-label="监听url的location.hash（即#值）变化"><!--[--><!--]--> 监听url的location.hash（即#值）变化 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24461.html" class="sidebar-item" aria-label="小程序和 Web 端同构方案：kbone"><!--[--><!--]--> 小程序和 Web 端同构方案：kbone <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24684.html" class="sidebar-item" aria-label="如何查看其他小程序的AppID"><!--[--><!--]--> 如何查看其他小程序的AppID <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24935.html" class="sidebar-item" aria-label="实现类似 vue.js 模板字符串替换"><!--[--><!--]--> 实现类似 vue.js 模板字符串替换 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24942.html" class="sidebar-item" aria-label="简单理解 vue.js 数据双向绑定的原理"><!--[--><!--]--> 简单理解 vue.js 数据双向绑定的原理 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24948.html" class="sidebar-item" aria-label="了解 npm install -S -D -g 的用法"><!--[--><!--]--> 了解 npm install -S -D -g 的用法 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24954.html" class="sidebar-item" aria-label="实现 js 数组扁平化去重并排序"><!--[--><!--]--> 实现 js 数组扁平化去重并排序 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24976.html" class="sidebar-item" aria-label="js 模拟 new 运算符实现的过程"><!--[--><!--]--> js 模拟 new 运算符实现的过程 <!--[--><!--]--></a><!----></li><li><a href="/blog/posts/js-css/24994.html" class="sidebar-item" aria-label="Phaser.js 移动（适配）自适应的模式"><!--[--><!--]--> Phaser.js 移动（适配）自适应的模式 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="从零开始配置vue-js的webpack开发环境" tabindex="-1"><a class="header-anchor" href="#从零开始配置vue-js的webpack开发环境" aria-hidden="true">#</a> 从零开始配置vue.js的webpack开发环境</h1><blockquote><p>这里使用的webpack@2.3.2 版本</p></blockquote><h3 id="安装webpack" tabindex="-1"><a class="header-anchor" href="#安装webpack" aria-hidden="true">#</a> 安装webpack</h3><p>首先需要使用npm来初始配置：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm init
</code></pre></div><p>执行后，一系列的回车后， 生成package.json文件 ，接着安装 webpack@2.3.2 和webpack-dev-server：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm install webpack@<span class="token number">2.3</span><span class="token number">.2</span> <span class="token operator">--</span>save<span class="token operator">-</span>dev
cnpm install webpack<span class="token operator">-</span>dev<span class="token operator">-</span>server@<span class="token number">2.4</span><span class="token number">.2</span> <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div><p>--save-dev会作为开发依赖来安装webpack。执行以上操作的package.json文件：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo &quot;</span><span class="token literal-property property">Error</span><span class="token operator">:</span> no test specified<span class="token string">&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.3.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.4.2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre></div><h3 id="配置webpack" tabindex="-1"><a class="header-anchor" href="#配置webpack" aria-hidden="true">#</a> 配置webpack</h3><p>新建webpack.config.js文件用来作为webpack配置：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>  <span class="token comment">//入口main.js文件</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span><span class="token string">&#39;./main&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token comment">//打包后</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;main.js&#39;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span>config  
</code></pre></div><p>以上webpack配置文件最重要的两项就是entry和output，在entry中的main.js是配置的入口文件，output中的main.js则是打包后的文件。所以，还需要一个空的main.js入口文件，现在，我们把webpack与npm环境联系起来，在package.json中添加webpack-dev-server启动脚本：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo &quot;</span><span class="token literal-property property">Error</span><span class="token operator">:</span> no test specified<span class="token string">&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open --config webpack.config.js&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> 
</code></pre></div><p>至此，我们的配置就完成了，下面建一个index.html文件作为项目的入口：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta http<span class="token operator">-</span>equiv<span class="token operator">=</span><span class="token string">&quot;X-UA-Compatible&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;ie=edge&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>webpack<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
        hello world
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;/dist/main.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span> 
</code></pre></div><p>执行启动命令后，会自动在浏览器中打开页面：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm run dev
</code></pre></div><p>如果你成功打开一个 hello world的页面，那么你已经完成了整个工作最重要的一步了。</p><h3 id="加入css处理配置" tabindex="-1"><a class="header-anchor" href="#加入css处理配置" aria-hidden="true">#</a> 加入css处理配置</h3><p>处理css等样式文件就需要用到style-loader和css-loader，所以需要安装和配置它们：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm install css<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
cnpm install style<span class="token operator">-</span>loader <span class="token operator">--</span>save<span class="token operator">-</span>dev
cnpm install extract<span class="token operator">-</span>text<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin@<span class="token number">2.1</span><span class="token number">.2</span> <span class="token operator">--</span><span class="token operator">-</span>save<span class="token operator">-</span>dev<span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre></div><p>利用extract-text-webpack-plugin来启用webpack的插件功能。在wepack.config.js中添加css处理配置：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;extract-text-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span> <span class="token comment">//处理css文件</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span>ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fallback</span><span class="token operator">:</span><span class="token string">&#39;style-loader&#39;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token comment">//打包生成的css文件</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;main.css&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span>config 
</code></pre></div><p>下面我们添加一个style.css文件：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>#app<span class="token punctuation">{</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 24px<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #f50<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
</code></pre></div><p>并在main.js中通过 import 引入：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;./style.css&#39;</span><span class="token punctuation">;</span> 
</code></pre></div><p>使用 cnpm run dev 命令重启服务，在浏览器中可以看到通过<link>引入的main.css文件生效，页面的 hello world也变大变红。</p><h3 id="安装vue相关依赖" tabindex="-1"><a class="header-anchor" href="#安装vue相关依赖" aria-hidden="true">#</a> 安装vue相关依赖</h3><p>处理.vue后缀文件和ES6语言转换等，需要安装相应的依赖：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev vue
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev vue<span class="token operator">-</span>loader
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev vue<span class="token operator">-</span>style<span class="token operator">-</span>loader
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev vue<span class="token operator">-</span>template<span class="token operator">-</span>compiler
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev vue<span class="token operator">-</span>hot<span class="token operator">-</span>reload<span class="token operator">-</span>api
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>loader@<span class="token number">7.1</span><span class="token number">.5</span>
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>core
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>runtime
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>preset<span class="token operator">-</span>es2015
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev babel<span class="token operator">-</span>runtime 
</code></pre></div><p>安装完成后，配置webpack.config.js来支持.vue文件和ES6的解析：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;extract-text-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;vue-loader/lib/plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">main</span><span class="token operator">:</span><span class="token string">&#39;./main&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;main.js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">loaders</span><span class="token operator">:</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">css</span><span class="token operator">:</span>ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">fallback</span><span class="token operator">:</span><span class="token string">&#39;vue-style-loader&#39;</span>
                        <span class="token punctuation">}</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span>ExtractTextPlugin<span class="token punctuation">.</span><span class="token function">extract</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">fallback</span><span class="token operator">:</span><span class="token string">&#39;style-loader&#39;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token string">&#39;main.css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports<span class="token operator">=</span>config 
</code></pre></div><p>新建一个.babelrc的配置文件，webpack会根据此配置来使用babel编译ES6的代码：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;transform-runtime&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;comments&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span> 
</code></pre></div><p>配置好这些后，现在就可以使用.vue文件了。现在创建一个app.vue文件并写入内容：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        hello <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;vue.js&#39;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>style scoped<span class="token operator">&gt;</span>
    div<span class="token punctuation">{</span>
        <span class="token literal-property property">color</span><span class="token operator">:</span> #f60<span class="token punctuation">;</span>
        font<span class="token operator">-</span>size<span class="token operator">:</span>24px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span> 
</code></pre></div><p>写好了组件后，就可以在入口文件main.js中使用它，打开main.js文件，替换成以下内容：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App  <span class="token keyword">from</span> <span class="token string">&#39;./app.vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">el</span><span class="token operator">:</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span><span class="token parameter">h</span><span class="token operator">=&gt;</span><span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre></div><p>重启服务，在浏览器中可以看到页面的 <code>&lt;div id=&quot;app&quot;&gt;</code> 已经被组件替换了：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div data<span class="token operator">-</span>v<span class="token operator">-</span>381730fa<span class="token operator">&gt;</span>hello vue<span class="token punctuation">.</span>js<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
</code></pre></div><p>对应的main.css为：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>div<span class="token punctuation">[</span>data<span class="token operator">-</span>v<span class="token operator">-</span>381730fa<span class="token punctuation">]</span><span class="token punctuation">{</span>
     <span class="token literal-property property">color</span><span class="token operator">:</span> #f60<span class="token punctuation">;</span>
     font<span class="token operator">-</span>size<span class="token operator">:</span>24px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="用于生产环境" tabindex="-1"><a class="header-anchor" href="#用于生产环境" aria-hidden="true">#</a> 用于生产环境</h3><p>安装url-loader和file-loader来处理图片，字体等文件：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev url<span class="token operator">-</span>loader
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev file<span class="token operator">-</span>loader
</code></pre></div><p>在webpack.config.js添加配置，?limit=1024是指文件小于1kb，就以base64的形式加载：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token comment">//...</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.(gif|jpg|png|woff|svg|eot|ttf)??.*$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;url-loader?limit=1024&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token comment">//..</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><p>放置一张图片./images/image.png，并在app.vue中加载它：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code> <span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        hello <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;/./images/image.gif&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><p>重启服务后，浏览器页面上将显示图片，当然，这只是测试，更重要的是把所有的静态资源打包压缩。需要安装下面两个依赖：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev webpack<span class="token operator">-</span>merge
cnpm install <span class="token operator">--</span>save<span class="token operator">-</span>dev html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin
</code></pre></div><p>为了方便开发和生产环境切换，我们新建一个webpack.prod.config.js配置文件，并在package.json中加入一个build的脚本：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo &quot;</span><span class="token literal-property property">Error</span><span class="token operator">:</span> no test specified<span class="token string">&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open --config webpack.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --progress --hide-modules --config webpack.prod.config.js&quot;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span> 
</code></pre></div><p>先来看下webpack.prod.config.js的配置：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">var</span> webpack<span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> HtmlwebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> ExtractTextPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;extract-text-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> webpackBaseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.config.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;vue-loader/lib/plugin&#39;</span><span class="token punctuation">)</span>
<span class="token comment">//清空基本配置的插件列表</span>
webpackBaseConfig<span class="token punctuation">.</span>plugins<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>webpackBaseConfig<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">publicPath</span><span class="token operator">:</span><span class="token string">&#39;/dist/&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">//将入口文件main.js重命名为hash值的文件名</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;[name].[hash].js&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ExtractTextPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;[name].[hash].css&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">allChunks</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//定义当前node环境为生产环境</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string-property property">&#39;p<wbr>rocess.env&#39;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token constant">NODE_ENV</span><span class="token operator">:</span><span class="token string">&#39;&quot;production&quot;&#39;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//压缩js</span>
        <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>optimize<span class="token punctuation">.</span>UglifyJsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">compress</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token literal-property property">warnings</span><span class="token operator">:</span><span class="token boolean">false</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//提取模板，并保存入口 html文件</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlwebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;../index_prod.html&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">template</span><span class="token operator">:</span><span class="token string">&#39;./index.ejs&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">inject</span><span class="token operator">:</span><span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token comment">//加载vue相关插件</span>
        <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 
</code></pre></div><p>从上面的配置文件中，可以看出，还需要一个index.ejs的模板文件：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Webpack App<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>link rel<span class="token operator">=</span><span class="token string">&quot;stylesheet&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;&lt;%= htmlWebpackPlugin.files.css[0] %&gt;&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;&lt;%= htmlWebpackPlugin.files.js[0] %&gt;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
</code></pre></div><p>最后执行打包命令：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code>cnpm run bulid
</code></pre></div><p>会生成一个dist的目录（包含静态资料）和index_prod.html文件，在浏览器通过访问一下链接即可：</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token literal-property property">http</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>index_prod<span class="token punctuation">.</span>html 
</code></pre></div><p>好了，vue.js的webpack开发环境基本配置就是这样子了。</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/lzwdot/blog/edit/main/docs/posts/js-css/23661.md" rel="noopener noreferrer" target="_blank" aria-label="编辑页面"><!--[--><!--]--> 编辑页面 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">在新窗口打开</span></span><!--[--><!--]--></a></div><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/blog/posts/js-css/23656.html" class="" aria-label="滑动错误提示：Unable to preventDefault inside passive event listener due to target being treated as passive"><!--[--><!--]--> 滑动错误提示：Unable to preventDefault inside passive event listener due to target being treated as passive <!--[--><!--]--></a></span><span class="next"><a href="/blog/posts/js-css/23690.html" class="" aria-label="使用Node.js的request库做代理"><!--[--><!--]--> 使用Node.js的request库做代理 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/blog/assets/app.4ca8afde.js" defer></script>
  </body>
</html>
