---
 title: js 数据结构之“图”
 permalink: "/archives/27969"
---

# LeetCode：133. 克隆图

深度优先

```
/**
 * @param {Node} node
 * @return {Node}
 */
var cloneGraph = function (node) {
    if (!node) return;
    const visited = new Map() // 访问过的

    // 深度优先
    const dfs = (n) => {       
        const nCp = new Node(n.val)
        visited.set(n, nCp); // 设置访问过的，同时复制
        (n.neighbors || []).forEach(ne => {           
            if (!visited.has(ne)) {
                dfs(ne)
            }
            nCp.neighbors.push(visited.get(ne))
        })
    }
    dfs(node)

    return visited.get(node)
};
```

广度优先

```
/**
 * @param {Node} node
 * @return {Node}
 */
var cloneGraph = function (node) {
    if (!node) return;
    const visited = new Map() // 访问过的
    visited.set(node, new Node(node.val)) // 设置第一个访问过的

    // 深度优先
    const q = [node]
    while (q.length) {
        const n = q.shift();
        (n.neighbors || []).forEach(ne => {
            if (!visited.has(ne)) {
                q.push(ne)
                visited.set(ne, new Node(ne.val))
            }
            // 克隆
            visited.get(n).neighbors.push(visited.get(ne))
        })
    }

    return visited.get(node)
};
```


